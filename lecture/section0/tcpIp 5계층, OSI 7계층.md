# TCP/IP의 5계층, 그리고 OSI의 7계층

`TCP/IP`는 현재 인터넷 표준입니다.

우리가 사용하고 있는 프로토콜은 TCP/IP입니다.

TCP/IP는 복잡한 네트워크를 다양한 제조사와 사람들이 쉽게 사용할 수 있도록 네트워크의 기능을 크게 나누어서 `블랙박스화` 합니다.

이를

1. 물리 계층 (Physical)

2. 데이터 링크 계층(Data Link)

3. 네트워크 계층 (Network)

4. 트랜스포트 계층(Transport)

5. 애플리케이션 계층 (Application)

이렇게 총 5개의 계층으로 나눕니다.

첫번째 계층은 `물리 계층`입니다.

이 계층은 실제로 데이터를 물리적으로 전송해줍니다.

데이터를 전기신호로 변환하고, 이 전기신호를 다시 데이터로 복원합니다.

랜카드와 케이블만 있다면, 두 컴퓨터는 통신이 가능해지는데요.

이는 이 물리 계층 덕분이라고 할 수 있습니다.

이 물리 계층에서는 데이터를 전달만 할뿐, 어떻게 보내는 것이 효율적인지는 생각하지 않습니다.

두번째 계층은 `데이터 링크 계층`입니다.

여러개의 기기가 연결되어있더라도, `MAC 주소`라는 고유한 주소로 기기를 잘 분류합니다.

세번째 계층은 `네트워크 계층`입니다.

이 계층은 복잡하게 연결된 네트워크에서 IP주소를 이용해서 출발지부터 목적지까지 정확하게 데이터를 보내는 계층입니다.

![](https://velog.velcdn.com/images/brgndy/post/bfd78ccb-6e14-45dd-a9a1-6c408be7cfb3/image.png)

네번째 계층은 `트랜스포트 계층`입니다.

이 계층은 두 컴퓨터 사이의 신뢰성 있는 데이터 전송을 보장하고, 포트를 이용해서 사용자의 특정 어플리케이션으로 정확하게 전달합니다.

트랜스포트 계층은 네트워크 계층 위에서 동작하기 때문에, 두 컴퓨터 사이의 연결을 보장하는 일에만 집중할수 있습니다.

실제로 데이터를 전달하는 역할은 아래의 계층(네트워크, 데이터링크, 물리)들이 해주기 때문입니다.

마지막으로 다섯번째 계층은 `어플리케이션 계층`입니다.

이 계층은 사용자와 가장 가까운 계층입니다.

HTTP나, FTP, SSH등 사용자가 직접 다루는 어플리케이션들이 이 계층에 해당합니다.

이 어플리케이션 계층은 트랜스포트 계층 위에서 작동하기 때문에, 어플리케이션이 하는일에만 집중할수 있습니다.

신뢰성 있는 데이터 보장, 데이터 전송은 아래 계층들이 담당합니다.

이렇게 계층화가 되어있기 때문에, 사용자는 어플리케이션 계층만 알고 있어도 프로그램을 만들수 있는 것입니다.

> 근데, 네트워크 이야기만 나오면 OSI 7계층 이야기가 나오는데, 이 OSI 7계층은 뭔가요 ?

`OSI 7계층`은 TCP/IP 5계층과 같은 네트워크를 위한 표준 프로토콜입니다.

국제 표준화 기구에서 만든 국제 표준 프로토콜인데,

TCP/IP의 트랜스포트 계층 까진 같지만, 그 위에 세션 계층, 프레젠테이션 계층, 어플리케이션 계층이 추가 됩니다.

![](https://velog.velcdn.com/images/brgndy/post/2f51efd8-b520-4f0e-8487-86fa79efaa90/image.png)

하지만 현실 세계에서 동작하는 인터넷은, OSI 모델로 이루어져있지 않고, TCP/IP 모델로 이루어져있습니다.

왜 그런것일까요 ?

초기에 인터넷이 빠르게 보급 될 당시에, 많은 사용자가 유닉스 운영체제를 사용했습니다.

그리고 이 유닉스 운영체제 안에는 TCP/IP가 내장되어있었습니다.

그래서 늦게 만들어진 OSI 모델은 TCP/IP가 국제 표준이라고 하더라도, 이미 자리잡은 TCP/IP를 밀어내기엔 역부족이었습니다.

따라서 `국제 표준은 OSI 7계층 모델이지만, 현업에서는 TCP/IP 5계층이 사용되고 있는 것`입니다.

TCP/IP의 마지막 계층인 어플리케이션 계층은 위에서 말씀드린 OSI 계층의 마지막 3계층인 세션, 프레젠테이션, 어플리케이션 계층을 하나로 표현하고 있다고 볼 수 있습니다.

![](https://velog.velcdn.com/images/brgndy/post/bda7f85a-2a60-4713-920b-a34868683344/image.png)

우리가 만약 데이터를 전송한다면 어떤 흐름으로 TCP/IP의 5계층이 동작할까요 ?

웹브라우저에서 웹서버로 데이터를 전송한다고 가정해보겠습니다.

웹브라우저는 HTTP를 사용하기때문에, 웹서버로 전송할 HTTP 메세지가 만들어집니다.

어플리케이션은 이 데이터를 4계층인 트랜스포트 계층으로 보냅니다.

이 트랜스포트 계층에서는 어플리케이션 계층에서 받은 데이터에 트랜스포트 계층의 약속을 나타내는 데이터를 맨 앞에 붙입니다.

맨 앞에 머리 쪽에 붙여졌다고 해서 이를 `헤더`라고 부릅니다.

이렇게 어플리케이션 데이터와 트랜스포트의 헤더가 합쳐진 전체 데이터를 `데이터그램` 또는 `세그먼트`라고 합니다.

이제 이 데이터그램(세그먼트)를 3계층으로 보냅니다.

3계층인, `네트워크 계층`에서는 이 받은 데이터그램을 데이터로 취급합니다.

받은 데이터에, 또 네트워크 계층의 약속을 나타내는 네트워크 계층만의 `헤더`를 덧붙입니다.

이렇게 트랜스포트 계층의 `데이터그램`과 네트워크 계층의 `헤더`가 합쳐진 전체 데이터를 `패킷`이라고 부릅니다.

그리고 이 패킷을 2계층, 즉 `데이터링크 계층`으로 보냅니다.

데이터 링크 계층에서는 데이터링크 계층만의 약속을 나타내는 `헤더`와 `트레일러`를 덧붙입니다.

이렇게 또 2계층에서 네트워크 계층의 패킷과 데이터링크 계층의 헤더와 트레일러가 합쳐진 전체 데이터를 `프레임`이라고 부릅니다.

그리고 이 프레임을 1계층인 `물리계층`으로 보냅니다.

물리 계층에서는 데이터링크 계층으로부터 받은 프레임을 전기신호로 바꾸어서 물리적으로 전송합니다.

## - 전체적인 요약도

![](https://velog.velcdn.com/images/brgndy/post/74a20a84-a2b2-4f39-8b4b-741f631a7b27/image.png)
